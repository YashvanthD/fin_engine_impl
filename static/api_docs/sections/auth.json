{
  "id": "auth",
  "name": "Authentication",
  "description": "User authentication and session management endpoints.",
  "endpoints": [
    {
      "id": "auth-register",
      "method": "POST",
      "path": "/auth/register",
      "summary": "Register a new user account",
      "description": "Create a new user account with email and password. Requires master password for security.",
      "auth": false,
      "tags": ["registration"],
      "request": {
        "contentType": "application/json",
        "body": {
          "email": {"type": "string", "required": true, "description": "User email address", "example": "user@example.com"},
          "password": {"type": "string", "required": true, "description": "User password (min 8 chars)", "example": "securepassword"},
          "name": {"type": "string", "required": true, "description": "Full name", "example": "John Doe"},
          "phone": {"type": "string", "required": false, "description": "Phone number", "example": "+1234567890"},
          "master_password": {"type": "string", "required": true, "description": "Server master password for registration"}
        },
        "example": {
          "email": "user@example.com",
          "password": "securepassword",
          "name": "John Doe",
          "phone": "+1234567890",
          "master_password": "server_master_password"
        }
      },
      "responses": {
        "200": {
          "description": "Registration successful",
          "example": {
            "success": true,
            "data": {
              "user_key": "usr_abc123",
              "account_key": "acc_xyz789",
              "email": "user@example.com",
              "access_token": "eyJ...",
              "refresh_token": "eyJ..."
            }
          }
        },
        "400": {"description": "Validation error"},
        "409": {"description": "User already exists"}
      }
    },
    {
      "id": "auth-login",
      "method": "POST",
      "path": "/auth/login",
      "summary": "Authenticate user and get tokens",
      "description": "Login with email and password to receive JWT access and refresh tokens.",
      "auth": false,
      "tags": ["login"],
      "request": {
        "contentType": "application/json",
        "body": {
          "email": {"type": "string", "required": true, "description": "User email address"},
          "password": {"type": "string", "required": true, "description": "User password"}
        },
        "example": {
          "email": "user@example.com",
          "password": "securepassword"
        }
      },
      "responses": {
        "200": {
          "description": "Login successful",
          "example": {
            "success": true,
            "data": {
              "user_key": "usr_abc123",
              "account_key": "acc_xyz789",
              "access_token": "eyJ...",
              "refresh_token": "eyJ...",
              "expires_in": 604800
            }
          }
        },
        "401": {"description": "Invalid credentials"}
      }
    },
    {
      "id": "auth-refresh",
      "method": "POST",
      "path": "/auth/refresh",
      "summary": "Refresh access token",
      "description": "Get a new access token using a valid refresh token.",
      "auth": false,
      "tags": ["token"],
      "request": {
        "contentType": "application/json",
        "body": {
          "refresh_token": {"type": "string", "required": true, "description": "Valid refresh token"}
        },
        "example": {
          "refresh_token": "eyJ..."
        }
      },
      "responses": {
        "200": {
          "description": "Token refreshed",
          "example": {
            "success": true,
            "data": {
              "access_token": "eyJ...",
              "expires_in": 604800
            }
          }
        },
        "401": {"description": "Invalid or expired refresh token"}
      }
    },
    {
      "id": "auth-logout",
      "method": "POST",
      "path": "/auth/logout",
      "summary": "Logout and invalidate tokens",
      "description": "Invalidate the current access token and all associated refresh tokens.",
      "auth": true,
      "tags": ["logout"],
      "request": {},
      "responses": {
        "200": {
          "description": "Logout successful",
          "example": {"success": true, "data": {"message": "Logged out successfully"}}
        }
      }
    },
    {
      "id": "auth-me",
      "method": "GET",
      "path": "/auth/me",
      "summary": "Get current user info",
      "description": "Get the profile information of the currently authenticated user.",
      "auth": true,
      "tags": ["profile"],
      "request": {},
      "responses": {
        "200": {
          "description": "User info retrieved",
          "example": {
            "success": true,
            "data": {
              "user_key": "usr_abc123",
              "account_key": "acc_xyz789",
              "email": "user@example.com",
              "name": "John Doe",
              "role": "admin"
            }
          }
        }
      }
    }
  ]
}

